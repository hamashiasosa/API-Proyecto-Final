var items=[{title:"Helado",subtitle:"A base de crema y leche, yemas de huevo",imageUrl:"https://i.pinimg.com/564x/ef/8c/88/ef8c88e11793e4f7b2b8316e10fe4389.jpg"},{title:"Gelato",subtitle:"A base de leche con menos grasa.",imageUrl:"https://i.pinimg.com/564x/d8/1f/8d/d81f8dac41c13b85e7ac68f6541858cb.jpg"},{title:"Nieve",subtitle:"Mezcla de frutas naturales",imageUrl:"https://i.pinimg.com/564x/01/aa/1b/01aa1b461ee05d1ad310b6235506924e.jpg"},{title:"Sorbete",subtitle:"A base de agua y glucosa",imageUrl:"https://i.pinimg.com/564x/19/c6/b6/19c6b6e93d18144beb869372ed10d8aa.jpg"}],watchFavorites=!1;function fillList(){var e=document.getElementById("favorites-btn"),t=document.getElementById("list-title");watchFavorites&&isLogged()?(fillFavoriteList(),e.innerHTML="Ver Listado Completo",t.innerHTML="Listado de Favoritos"):(fillAllList(),e.innerHTML="Ver Favoritos",t.innerHTML="Listado Completo")}function toggleFavoritesList(){watchFavorites=!watchFavorites,fillList()}function fillAllList(){for(document.getElementById("items").innerHTML="",i=0;i<items.length;i++){var e=items[i];addItem(e,isFavorite(e.title))}}function fillFavoriteList(){for(document.getElementById("items").innerHTML="",i=0;i<items.length;i++){var e=items[i],t=isFavorite(e.title);t&&addItem(e,t)}}function addItem(e,t){isLogged()||(t=!1),document.getElementById("items").insertAdjacentHTML("beforeend",'<div class="col-lg-3 col-sm-6" onclick="toggleFavorite(\''+e.title+'\')">  <div class="items__item hover__box">    <div class="items__thumb hover__box__thumb">      <a title="'+e.title+'">        <img src="'+e.imageUrl+'" alt="'+e.title+'">      </a>    </div>    <h1 class="items__name" id="favorite_'+e.title+'">'+favoriteIcon(t)+'</h1>    <div class="items__info">      <h3 class="items__capital">'+e.title+'</h3>      <p class="items__number">'+e.subtitle+"</p>    </div>  </div></div>")}function favoriteIcon(e){return e?"❤":""}document.addEventListener("DOMContentLoaded",function(){fillList()},!1);var baseUrl=window.location.origin;function searchQuote(){var t=document.getElementById("quoteText"),i=document.getElementById("authorText");fetch(baseUrl+"/quotes",{method:"GET"}).then(function(e){return e.text()}).then(function(e){e=JSON.parse(e);t.textContent=e.text,i.textContent=e.author}).catch(function(e){i.textContent="-"})}function login(){var e=document.getElementById("user"),t=document.getElementById("password"),i=document.getElementById("login-error");i.innerHTML="","crehana"===e.value&&"crehana123"===t.value?(localStorage.setItem("loggedUser",e.value),location.reload()):i.innerHTML="Usuario o contraseña incorrecta."}function isLogged(){return null!==localStorage.getItem("loggedUser")}function loadSession(){var e=document.getElementById("login-btn"),t=document.getElementById("logout-btn"),i=document.getElementById("favorites-btn"),o=document.getElementById("list-title");isLogged()?(e.innerHTML="",t.innerHTML="Cerrar Sesión",i.innerHTML="Ver Favoritos",o.innerHTML="Listado Completo"):(e.innerHTML="Iniciar Sesión",t.innerHTML="",i.innerHTML="",o.innerHTML="")}function logout(){var e=document.getElementById("login-btn"),t=document.getElementById("logout-btn");localStorage.removeItem("loggedUser"),e.innerHTML="Iniciar Sesión",t.innerHTML="",location.reload()}function toggleFavorite(e){(isFavorite(e)?removeFavorite:addFavorite)(e)}function isFavorite(e){var t=localStorage.getItem("favorites"),t=null==t?[]:JSON.parse(t);return t.includes(e)}function addFavorite(e){try{var t,i;isLogged()&&((i=null==(t=localStorage.getItem("favorites"))?[]:JSON.parse(t)).push(e),localStorage.setItem("favorites",JSON.stringify(i)),document.getElementById("favorite_"+e).innerHTML="❤")}catch(e){console.error("Error al agregar favorito")}}function removeFavorite(e){try{var t,i,o;isLogged()&&(o=(i=null==(t=localStorage.getItem("favorites"))?[]:JSON.parse(t)).indexOf(e),i.splice(o,1),localStorage.setItem("favorites",JSON.stringify(i)),document.getElementById("favorite_"+e).innerHTML="")}catch(e){console.error("Error al agregar favorito")}}document.addEventListener("DOMContentLoaded",function(){searchQuote()},!1),document.addEventListener("DOMContentLoaded",function(){loadSession()},!1);